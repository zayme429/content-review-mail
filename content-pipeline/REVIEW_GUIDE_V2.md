# 系统化审核指南 v2.0

## 🎯 新特性概览

### ✅ 多候选生成
- 一次生成 **3个不同角度** 的文章
- 实战派 / 深度派 / 故事派
- 供你选择最佳版本

### ✅ 系统化审核
- **邮件通知** - 比聊天更适合深度审核
- **Web管理面板** - 可视化查看历史和偏好
- **数据库记录** - 所有操作可追溯

### ✅ 反馈固化
- 你的每句话都会被 **自动分析**
- 偏好自动更新到配置文件
- 下次生成时自动应用改进

### ✅ 方向管理
- 主题库动态调整
- 热门方向权重提升
- 冷门方向自动降级

---

## 📧 邮件审核流程

### 每日工作流程

```
8:00 - 系统自动生成3个候选
       ↓
8:05 - 发送邮件（包含3个候选的摘要）
       ↓
你收到邮件后：
  ├─ 查看候选摘要
  ├─ 点击链接查看完整文章
  └─ 回复邮件进行审核
       ↓
你的回复被自动处理：
  ├─ "发布 2" → 自动发布候选2到草稿箱
  ├─ "重新生成 更侧重实操" → 按新方向重写
  ├─ "修改 1 增加数据支撑" → 针对性优化
  └─ "跳过" → 今日不发布
       ↓
系统记录你的选择，用于优化后续生成
```

### 邮件回复指令

#### 1. 选择发布
```
主题: 审核回复
内容: 发布 2

（表示选择候选2发布到草稿箱）
```

#### 2. 重新生成（指定方向）
```
主题: 审核回复  
内容: 重新生成

方向: 更侧重AI工具的具体操作步骤，少讲理论

（系统会按这个新方向重新生成3个候选）
```

#### 3. 修改优化
```
主题: 审核回复
内容: 修改 1

问题: 
- 案例分析部分太笼统，需要更具体的操作步骤
- 缺少数据支撑，建议补充行业统计数据
- 结尾的建议不够可执行

（系统会针对性优化候选1）
```

#### 4. 跳过今日
```
主题: 审核回复
内容: 跳过
```

#### 5. 查看完整
```
主题: 审核回复
内容: 查看 3

（系统会发送候选3的完整内容）
```

---

## 💬 反馈类型与固化

### 反馈分类

系统会自动识别你的反馈类型：

| 反馈类型 | 示例 | 固化效果 |
|---------|------|---------|
| **风格问题** | "避免过度使用术语" | 添加到"避免"列表 |
| **内容方向** | "多写实操教程" | 添加到主题库 |
| **结构问题** | "案例分析要更详细" | 更新结构要求 |
| **质量问题** | "字数要更多" | 更新字数标准 |
| **案例要求** | "需要具体公司名" | 强化案例要求 |

### 反馈示例

#### ✅ 有效反馈（会被固化）

```
❌ "这个不好"  → 太笼统，无法固化

✅ "避免使用'随着AI发展'这类开头"  
   → 自动添加到 avoid 列表

✅ "多写一些Cursor/Claude的具体使用技巧"
   → 添加到主题库，提升"AI工具提效"权重

✅ "案例分析要有具体的人名、公司名、时间"
   → 强化案例要求

✅ "语气太严肃了，可以更轻松一些"
   → 更新风格偏好
```

---

## 📊 Web管理面板

访问地址: `http://服务器IP/content-pipeline/web/`

### 功能模块

#### 1. 审核队列
- 查看待审核文章
- 预览候选内容
- 一键发布

#### 2. 历史文章
- 查看已发布文章列表
- 阅读数据（阅读量、分享数）
- 重新编辑/发布

#### 3. 偏好配置
- 查看已固化的偏好
- 手动调整主题权重
- 添加/删除关键词

#### 4. 反馈历史
- 查看所有反馈记录
- 查看固化状态
- 撤销不当固化

#### 5. 数据统计
- 生成频率趋势
- 质量分数趋势
- 热门主题分布

---

## 🔄 反馈循环机制

### 自动学习流程

```
你提供反馈
    ↓
系统提取关键词和模式
    ↓
匹配到配置项（风格/方向/结构/质量）
    ↓
更新 content_system.json
    ↓
下次生成时自动应用
    ↓
生成质量逐步提升
```

### 学习周期

- **即时固化**: 单次反馈立即生效
- **周度总结**: 每周生成反馈报告
- **月度优化**: 每月全面评估主题库

---

## 🛠️ 高级操作

### 1. 手动调整主题权重

编辑 `config/content_system.json`:

```json
{
  "pillar_topics": [
    {
      "id": "ai_tools",
      "name": "AI工具提效实战",
      "weight": 30,  // 提升权重
      "last_used": "2026-02-26",
      "performance_score": 8.5
    }
  ]
}
```

### 2. 添加自定义提示词规则

编辑 `config/prompts/` 下的文件:

```markdown
# 新增规则
- 必须在每个案例后添加"可执行要点"
- 避免使用"笔者认为"这类主观表述
- 数据必须标注来源
```

### 3. 查看学习效果

```bash
# 生成反馈报告
python pipeline_v2.py --report --days 7

# 查看已固化的偏好
cat config/content_system.json | grep -A 20 "content_preferences"
```

---

## 📈 质量提升曲线

随着反馈积累，系统会逐步学会：

| 阶段 | 反馈数 | 效果 |
|-----|--------|------|
| 初始 | 0-5 | 基础质量，需要较多干预 |
| 学习 | 5-15 | 开始理解你的风格偏好 |
| 成熟 | 15-30 | 80%文章可直接发布 |
| 优化 | 30+ | 个性化风格，高度符合预期 |

---

## 🚨 注意事项

1. **反馈要具体** - 避免"不好"，要说"哪里不好，怎么改"
2. **保持一致** - 同类问题反馈3次以上才会固化
3. **及时反馈** - 生成后24小时内反馈最有效
4. **定期复盘** - 每周查看反馈报告，调整策略

---

## 🎯 最佳实践

### 第一周：建立基线
- 每天运行生成
- 记录所有问题
- 不急于固化，先观察

### 第二周：开始固化
- 对重复出现的问题进行反馈
- 观察系统是否学会改进
- 调整主题权重

### 第三周：优化流程
- 确定最适合自己的候选类型
- 设置默认发布规则
- 减少审核时间

### 持续：迭代优化
- 每月评估主题库
- 根据阅读数据调整方向
- 保持反馈习惯

---

**新系统已上线！明天开始你将收到包含3个候选的邮件通知！** 📧
